<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui" />
    <script>
        /*--rem兼容方案--*/
        !function(e){var t=750,n=e.document,i=n.documentElement,a="orientationchange"in e?"orientationchange":"resize",d=function e(){var n=i.getBoundingClientRect().width;return i.style.fontSize=5*Math.max(Math.min(20*(n/t),11.2),8.55)+"px",e}();i.setAttribute("data-dpr",e.navigator.appVersion.match(/iphone/gi)?e.devicePixelRatio:1),/iP(hone|od|ad)/.test(e.navigator.userAgent)&&(n.documentElement.classList.add("ios"),parseInt(e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],10)>=8&&n.documentElement.classList.add("hairline")),n.addEventListener&&(e.addEventListener(a,d,!1),n.addEventListener("DOMContentLoaded",d,!1))}(window);
        /*--禁用微信分享按钮--*/
        function onBridgeReady() { WeixinJSBridge.call('hideOptionMenu');}
        if (typeof WeixinJSBridge == "undefined") {
            if (document.addEventListener) {
                document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
            } else if (document.attachEvent) {
                document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
                document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
            }
        } else {
            onBridgeReady();
        }
        window.addEventListener('orientationchange', function (event) {
            // 180 或 0 是竖屏
            if (window.orientation == 90 || window.orientation == -90) {
                document.body.innerHTML = "";
                alert("为了您的更好体验，请设置竖屏，重新体验～");
            }
        });
        if (window.orientation == 90 || window.orientation == -90) {
            document.body.innerHTML = "";
            alert("为了您的更好体验，请设置竖屏，重新体验～");
        }
    </script>
    <script src="json/udata.js"></script>
    <style>
        .sclBox{
            position:absolute;
            overflow: hidden;
            top:0;
            left:0;
            bottom:0;
            right:0;
            width: 100%;
            height: 100%;
            background: url(img/one_bg.png) top center no-repeat;
            background-size: 100% auto;
        }
        .sclBox2 {
            background: url(img/reg_bg.png) top center no-repeat;
            background-size: 100% auto;
        }
        html,body{width: 100%; height: 100%; overflow: hidden;}
        *{margin: 0; padding: 0;}
        i,em{font-style: normal;}
        ul,li{list-style-type: none;}
        a,a:hover,a:focus{ text-decoration: none;}
        body{ background: #cf282d;}

        .btn-cai {
            position:relative;
            top:5.2rem;
            width:3rem;
            height:3rem;
            left: 50%;
            margin-left: -1.5rem;
            background:url(img/btn.png) 50% no-repeat;
            background-size:100% auto;
            -webkit-animation:chb_infinite 2s infinite;
            animation:chb_infinite 2.5s infinite;
        }
        .btn-cai.active {
            -webkit-animation:chb .6s;
            animation:chb .6s
        }
        .scrollDiv {
            width: 6.4rem;
            height: 1.2rem;
            background: rgba(103,0,0,.2);
            border-radius: 10px;
            position: absolute;
            left: 50%;
            margin-left: -3.2rem;
            bottom: .8rem;
            z-index: 3;
            overflow: hidden;
        }
        .scrollDiv .scrli {
            display: flex;
            width: 6.4rem;
            height: 1.2rem;
            box-sizing: border-box;
            padding: 0 0.1rem 0 0.2rem;
            align-items:center;
            color:#fff;
        }
        .scrollDiv img {
            width: 0.88rem;
            height: 0.88rem;
            display: block;
            border-radius: 50%;
        }
        .scrollDiv .snames {
            flex: 1;
            padding:0 0.2rem;
            font-size: 0.3rem;
        }
        .scrollDiv .spays {
            width: 2.2rem;
            font-size: 0.34rem;
        }
        .scrollDiv .spays span{ color: #ffe900;}
        @-webkit-keyframes chb_infinite {
            0% {
                -webkit-transform:rotate(0deg) scale(1);
                transform:rotate(0deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            10% {
                -webkit-transform:rotate(15deg) scale(1.1);
                transform:rotate(15deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            20% {
                -webkit-transform:rotate(-15deg) scale(1);
                transform:rotate(-15deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            30% {
                -webkit-transform:rotate(15deg) scale(1.1);
                transform:rotate(15deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            40% {
                -webkit-transform:rotate(-15deg) scale(1.1);
                transform:rotate(-15deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            50%,to {
                -webkit-transform:rotate(0deg) scale(1);
                transform:rotate(0deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
        }
        @keyframes chb_infinite {
            0% {
                -webkit-transform:rotate(0deg) scale(1);
                transform:rotate(0deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            10% {
                -webkit-transform:rotate(15deg) scale(1.1);
                transform:rotate(20deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            20% {
                -webkit-transform:rotate(-15deg) scale(1);
                transform:rotate(-15deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            30% {
                -webkit-transform:rotate(15deg) scale(1.1);
                transform:rotate(15deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            40% {
                -webkit-transform:rotate(-15deg) scale(1.1);
                transform:rotate(-15deg) scale(1.1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
            50%,to {
                -webkit-transform:rotate(0deg) scale(1);
                transform:rotate(0deg) scale(1);
                -webkit-transition:-webkit-transform 1.2s;
                transition:-webkit-transform 1.2s;
                transition:transform 1.2s;
                transition:transform 1.2s,-webkit-transform 1.2s
            }
        }
        @-webkit-keyframes chb {
            0% {
                -webkit-transform:rotateY(0deg) scale(1);
                transform:rotateY(0deg) scale(1);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s
            }
            50% {
                -webkit-transform:rotateY(1turn) scale(1.5);
                transform:rotateY(1turn) scale(1.5);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s
            }
            to {
                -webkit-transform:rotateY(2turn) scale(1);
                transform:rotateY(2turn) scale(1);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s
            }
        }
        @keyframes chb {
            0% {
                -webkit-transform:rotateY(0deg) scale(1);
                transform:rotateY(0deg) scale(1);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s;
            }
            50% {
                -webkit-transform:rotateY(1turn) scale(1.5);
                transform:rotateY(1turn) scale(1.5);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s;
            }
            to {
                -webkit-transform:rotateY(2turn) scale(1);
                transform:rotateY(2turn) scale(1);
                -webkit-transition:-webkit-transform .8s;
                transition:-webkit-transform .8s;
                transition:transform .8s;
                transition:transform .8s,-webkit-transform .8s;
            }
        }

        .hints{
            font-size: 0.36rem;
            color: #ffe900;
            margin-top: 1.82rem;
            text-align: center;
        }
        .money-box {
            display: flex;
            color: #333;
            padding-top: 1.9rem;
            justify-content: center;
        }
        .money-box li:nth-child(1){
            font-weight: bold;
            font-size: 0.7rem;
            width: 1rem;
            text-align: right;
        }
        .money-box li:nth-child(2){
            font-weight: bold;
            font-size: 1rem;
            padding: 0 0.4rem 0 0.2rem;
        }
        .money-box li:nth-child(3){
            font-size: 0.3rem;
            margin-top: 0.5rem;
            background: #cf282d;
            border-radius: 0.25rem;
            height: 0.3rem;
            line-height: 0.3rem;
            color: #fff;
            padding: 0.1rem 0.15rem;
            position: relative;
        }
        .money-box li:nth-child(3):before{content:''; height:0; width:0; display:block; border:0.1rem transparent solid; border-right-color:#cf282d;
        position: absolute; left: -0.2rem; bottom: 0; border-width:0.2rem 0.38rem 0 0;
        }
        .not-msg{
            font-size: 0.3rem;
            text-align: center;
            line-height: .6rem;
        }
        .ins-msg{
            color: #fff;
            font-size: 0.32rem;
            letter-spacing: 1px;
        }
        .red-btn {
            margin: 1.4rem auto 0;
            display: block;
            width: 5.4rem;
            height: 1.3rem;
            letter-spacing: 1px;
            line-height: 1.3rem;
            text-align: center;font-size: .5rem;color: #b8210c;font-weight: 700;background-image: -webkit-gradient(linear,left top,left bottom,from(#fffd38),to(#fecc36));background-image: linear-gradient(-180deg,#fffd38,#fecc36);-webkit-box-shadow: inset 0 .1rem .075rem 0 hsla(0,0%,100%,.5),inset 0 -.1rem .075rem 0 #ff9500;box-shadow: inset 0 .1rem .075rem 0 hsla(0,0%,100%,.5),inset 0 -.1rem .075rem 0 #ff9500;border-radius: 1.225rem;-webkit-animation: dangling 1.5s infinite;animation: dangling 1.5s infinite;
        }
        @-webkit-keyframes dangling {
            0% {
                -webkit-transform:scaleX(1);
                transform:scaleX(1)
            }
            50% {
                -webkit-transform:scale3d(1.07,1.07,1.07);
                transform:scale3d(1.07,1.07,1.07)
            }
            to {
                -webkit-transform:scaleX(1);
                transform:scaleX(1)
            }
        }
        @keyframes dangling {
            0% {
                -webkit-transform:scaleX(1);
                transform:scaleX(1)
            }
            50% {
                -webkit-transform:scale3d(1.07,1.07,1.07);
                transform:scale3d(1.07,1.07,1.07)
            }
            to {
                -webkit-transform:scaleX(1);
                transform:scaleX(1)
            }
        }
        .mask{
            display: flex;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 198;
            background: rgba(3,0,0,.7);
            justify-content: center;
            align-items:center;
        }
        .infmsg-box{
            width: 6rem;
            height: auto;
            background: #fff;
            border-radius: 5px;
            text-align: center;
        }
        .infmsg-box p:nth-child(1){
            padding: 0.4rem 0 0.25rem;
            color: #b8210c;
            font-weight: 500;
            font-size: 0.5rem;
        }
        .infmsg-box p:nth-child(2){
            font-size: 0.32rem;
            padding-bottom: 0.4rem;
        }
        .infmsg-box ul {
            display: flex;
            border-top:1px solid #f5f5f5 ;
        }
        .infmsg-box ul li {
            flex: 1;
            height: 1rem;
            line-height: 1rem;
            padding-bottom: 5px;
            font-size: 0.4rem;
            color:green;
        }
        .infmsg-box ul li:nth-child(1){
            border-right:1px solid #f5f5f5;
        }
    </style>
</head>

<body>
    <div class="sclBox sclBox1">
        <div class="btn-cai"></div>
    </div>
    <div class="sclBox sclBox2" style="display: none;">
        <p class="hints">24点前未领取，将退返红包池</p>
        <ul class="money-box">
            <li>¥</li>
            <li id="gtMoney"></li>
            <li>待提现</li>
        </ul>
        <p class="not-msg">如多次参与领取，以最后一次金额为准</p>
        <div class="red-btn" id="getPap">答题领取红包</div>
        <p class="not-msg ins-msg" style="padding-top:.8rem;">红包池剩余<i id="stMoney"></i>元现金</p>
        <p class="not-msg ins-msg">本活动微信认证，版权真实有效</p>
    </div>
    <div id="scrollDiv" class="scrollDiv">
        <div class="scrli">
            <img class="atimg" src="" alt="">
            <div class="snames"><p class="nm"></p><p class="tm"></p></div>
            <div class="spays">提现&nbsp;<span class="py"></span></div>
        </div>
        <div class="scrli">
            <img class="atimg" src="" alt="">
            <div class="snames"><p class="nm"></p><p class="tm"></p></div>
            <div class="spays">提现&nbsp;<span class="py"></span></div>
        </div>
    </div>
    <div class="mask" style="display: none;">
        <div class="infmsg-box">
            <p class="papname"></p>
            <p>新春微信福利，答对方可提现</p>
            <ul id="papBox">
                <li class="papone"></li>
                <li class="papmsg"></li>
            </ul>
        </div>
    </div>
    <!-- 下面的JS必须放在页面最后面调用 -->
    <script>
        /*-----------需要PHP控制的变量--------------*/
        var TOURL = "share.html";  // 需要跳转的地址
        var sharePay = 0;  // 传递到分享页的金额

        /*-----------本地变量--------------*/
        var btnCai = document.querySelector(".btn-cai");
        var sclBox1 = document.querySelector(".sclBox1");
        var sclBox2 = document.querySelector(".sclBox2");
        var papName = document.querySelector(".papname");
        var papOne = document.querySelector(".papone");
        var papMsg = document.querySelector(".papmsg");
        var maskBox = document.querySelector(".mask");
        var papBox = document.getElementById("papBox");
        var getPap = document.getElementById("getPap");
        var scrollDiv = document.getElementById("scrollDiv");
        var all_Img = document.querySelectorAll(".atimg");
        var all_Nm = document.querySelectorAll(".nm");
        var all_Tm = document.querySelectorAll(".tm");
        var all_Py = document.querySelectorAll(".py");
        var arrInx = 1;
        var gtMoney = document.getElementById("gtMoney");
        var stMoney = document.getElementById("stMoney");
        /*------------定义方法区--------------*/
        // 生产随机时间
        function getHoursDate() {
            var date = new Date();
            var strDate = (Math.random() * 60).toFixed(0);
            if (strDate >= 0 && strDate <= 9) {
                strDate = "0" + strDate;
            }
            var currentdate = (date.getHours() == 0 ? '00' : date.getHours() - 1)  + ':' + strDate;
            return currentdate;
        }
        function SetPay() {
            var paystxt = (Math.random() * 20 + 13).toFixed(2);
            return paystxt + "元";
        }
        // 随机打乱数组
        function randomsort(a, b) {
            return Math.random() > .5 ? -1 : 1;
        }
        // 执行禁止下拉
        document.body.addEventListener('touchmove', function (evt) {
            if (!evt._isScroller) { evt.preventDefault(); }
        })
        // 初始化元素
        var SclBox = {
            "inits": function () {
                /*---userData是外加载json---*/
                userData.data.sort(randomsort);
                [0,1].forEach(sem => {
                    all_Img[sem].setAttribute("src", userData.urls + userData.data[sem].avatar);
                    all_Nm[sem].innerHTML = userData.data[sem]["nick_name"];
                    all_Tm[sem].innerHTML = getHoursDate();
                    all_Py[sem].innerHTML = SetPay();
                });
                scrollDiv.innerHTML += scrollDiv.innerHTML;
                /*---paperData是外加载json---*/
                paperData.sort(randomsort);
                papName.innerHTML = paperData[0].name;
                papOne.innerHTML = paperData[0].one;
                papMsg.innerHTML = paperData[0].msg;
                sharePay = (Math.random() * 22 + 22).toFixed(2);
                var stmoney = localStorage.getItem("STMONEY") ? localStorage.getItem("STMONEY") : 607592.75;
                stmoney = (stmoney - sharePay).toFixed(2);
                gtMoney.innerText = sharePay;
                stMoney.innerText = stmoney;
                localStorage.setItem("STMONEY", stmoney);
            }
        }
        SclBox.inits();
        
        var boxHeight = scrollDiv.offsetHeight;
        var changDivH = parseInt(scrollDiv.scrollHeight / 4) - 1;
        var setDivH = parseInt(scrollDiv.scrollHeight / 2);
        var allImg = document.querySelectorAll(".atimg");
        var allNm = document.querySelectorAll(".nm");
        var allTm = document.querySelectorAll(".tm");
        var allPy = document.querySelectorAll(".py");
        new function () {
            scrollDiv.scrollTop == setDivH ? scrollDiv.scrollTop = 0 : scrollDiv.scrollTop++;
            if (scrollDiv.scrollTop === changDivH) {
                arrInx++;
                arrInx = arrInx == 50 ? 0 : arrInx;
                // console.log(scrollDiv.scrollTop, "div1,div3");
                allImg[0].setAttribute("src", userData.urls + userData.data[arrInx].avatar);
                allNm[0].innerHTML = userData.data[arrInx]["nick_name"];
                allTm[0].innerHTML = getHoursDate();
                allPy[0].innerHTML = SetPay();
                allImg[2].setAttribute("src", userData.urls + userData.data[arrInx].avatar);
                allNm[2].innerHTML = allNm[0].innerHTML;
                allTm[2].innerHTML = allTm[0].innerHTML;
                allPy[2].innerHTML = allPy[0].innerHTML;
            }
            if (scrollDiv.scrollTop === setDivH) {
                // console.log(scrollDiv.scrollTop, "div2");
                arrInx++;
                arrInx = arrInx == 50 ? 0 : arrInx;
                allImg[1].setAttribute("src", userData.urls + userData.data[arrInx].avatar);
                allNm[1].innerHTML = userData.data[arrInx]["nick_name"];
                allTm[1].innerHTML = getHoursDate();
                allPy[1].innerHTML = SetPay();
            }
            setTimeout(arguments.callee, scrollDiv.scrollTop % boxHeight ? 10 : 1500);
        };
        
        /*---------------调用执行区--------------*/
        // 点击按钮 >> 开
        btnCai.addEventListener('click', function (e) {
            btnCai.classList.add("active");
            setTimeout(() => {
                sclBox1.setAttribute('style','display:none');
                sclBox2.setAttribute('style','display:block');
            }, 880);
        });
        // 点击领取红包
        getPap.addEventListener('click', function (e) {
            maskBox.setAttribute('style', 'display:flex');
            getPap.setAttribute('style', 'display:none');
        });
        // 答题按钮
        papBox.addEventListener('click', function (e) {
            location.href = TOURL
        });
    </script>
</body>

</html>
